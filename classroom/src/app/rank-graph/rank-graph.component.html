<eui-datagrid *ngIf="rank_data" [data]="rank_data.result" [style.width]="'500px'">
  <eui-grid-column title="Rank" width="6ch" align="center">
    <ng-template euiCellTemplate let-rowIndex="rowIndex">
      {{rowIndex+1}}
    </ng-template>
  </eui-grid-column>
  <eui-grid-column field="text" title="Student" width="10ch">
    <ng-template euiCellTemplate let-row>
      <span><a [ngClass]="{'student_col': true, 'model_entry': row.ownedby === 'instructor'}"
               (click)="open('stv/'+row.index)">{{row.text}}</a></span>
    </ng-template>
  </eui-grid-column>
  <eui-grid-column field="value" title="Value" width="6ch">
    <ng-template euiCellTemplate let-row>
      <span>{{(100*row.value).toFixed(2)}}%</span>
    </ng-template>
  </eui-grid-column>
  <eui-grid-column field="value" width="300px">
    <ng-template euiHeaderTemplate let-col>
      <svg width="300px" height="30px">
        <desc>Linear scale ruler from 0 to {{x.tickFormat(10)(x.ticks(10)[10])}}.</desc>
        <g fill="none" font-size="10" font-family="sans-serif" font-weight="normal" text-anchor="middle">
          <line stroke="currentColor" [attr.x1]="x(0)" [attr.x2]="x(max_value*100)"
                [attr.y1]="17" [attr.y2]="17"/>
          <g class="tick" *ngFor="let tick of x.ticks(10); index as i;">

            <line stroke="currentColor" [attr.x1]="x(tick)" [attr.x2]="x(tick)" y1="12" y2="17"/>
            <text [attr.x]="x(tick)" [attr.y]="11" fill="black">{{x.tickFormat(10)(tick)}}</text>
          </g>
        </g>
      </svg>
    </ng-template>
    <ng-template euiCellTemplate let-row>
      <svg [attr.width]="'300px'" [attr.height]="'30px'"
           [attr.data-value]="row.value*100">
        <desc>A bar representing a value of {{row.value*100}}%</desc>
        <rect [attr.x]="x(0)" [attr.y]="5"
              [attr.height]="20" [attr.width]="x(row.value*100)-x(0)"
              [attr.fill]="'#EEEEEEEE'"
              [attr.stroke]="'#3C3C3C'" [attr.stroke-width]="1"/>
        </svg>
      <!--<hr [style.height]="'20px'"
          [style.margin-left]="0"
          [style.border-width]="'100%'"
          [style.width]="scale(row.value) + '%'"
          [style.background-color]="'grey'">-->
    </ng-template>
  </eui-grid-column>
<!--</eui-datagrid>
<svg class="rank_graph">
  <g class="rank_wait">-->
    <!--<text y="50%" x="20">Loading, please wait...</text>-->
  <!--</g>
  <g class="rank_data"></g>
</svg>-->
